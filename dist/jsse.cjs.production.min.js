"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,r=require("fs"),t=(e=require("path"))&&"object"==typeof e&&"default"in e?e.default:e;function n(e){var r;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(r=e[Symbol.asyncIterator]))return r.call(e);if(Symbol.iterator&&null!=(r=e[Symbol.iterator]))return r.call(e)}throw new TypeError("Object is not async iterable")}function o(e){this.wrapped=e}function i(e){var r,t;function n(r,t){try{var u=e[r](t),s=u.value,c=s instanceof o;Promise.resolve(c?s.wrapped:s).then((function(e){c?n("return"===r?"return":"next",e):i(u.done?"return":"normal",e)}),(function(e){n("throw",e)}))}catch(e){i("throw",e)}}function i(e,o){switch(e){case"return":r.resolve({value:o,done:!0});break;case"throw":r.reject(o);break;default:r.resolve({value:o,done:!1})}(r=r.next)?n(r.key,r.arg):t=null}this._invoke=function(e,o){return new Promise((function(i,u){var s={key:e,arg:o,resolve:i,reject:u,next:null};t?t=t.next=s:(r=t=s,n(e,o))}))},"function"!=typeof e.return&&(this.return=void 0)}function u(e){return function(){return new i(e.apply(this,arguments))}}function s(e){return new o(e)}function c(){return(c=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}"function"==typeof Symbol&&Symbol.asyncIterator&&(i.prototype[Symbol.asyncIterator]=function(){return this}),i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)};const f=function(){function e(){}return e.prototype.then=function(r,t){const n=new e,o=this.s;if(o){const e=1&o?r:t;if(e){try{a(n,1,e(this.v))}catch(e){a(n,2,e)}return n}return this}return this.o=function(e){try{const o=e.v;1&e.s?a(n,1,r?r(o):o):t?a(n,1,t(o)):a(n,2,o)}catch(e){a(n,2,e)}},n},e}();function a(e,r,t){if(!e.s){if(t instanceof f){if(!t.s)return void(t.o=a.bind(null,e,r));1&r&&(r=t.s),t=t.v}if(t&&t.then)return void t.then(a.bind(null,e,r),a.bind(null,e,2));e.s=r,e.v=t;const n=e.o;n&&n(e)}}function l(e){return e instanceof f&&1&e.s}function p(e,r){try{var t=e()}catch(e){return r(e)}return t&&t.then?t.then(void 0,r):t}function h(e,r){try{var t=e()}catch(e){return r(!0,e)}return t&&t.then?t.then(r.bind(null,!1),r.bind(null,!0)):r(!1,t)}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var v=function(e){try{return Promise.resolve(fetch(e)).then((function(e){function r(){if(!e.ok)throw new Error(e.statusText);return e}var t=p((function(){return Promise.resolve(e.json()).then((function(r){e.bodyJSON=r}))}),(function(){}));return t&&t.then?t.then(r):r()}))}catch(e){return Promise.reject(e)}};function y(e){return new Buffer(e,"base64").toString("binary")}function m(e){return new Buffer(e,"binary").toString("base64")}global.Buffer=global.Buffer||require("buffer").Buffer,"undefined"==typeof btoa&&(global.btoa=m),"undefined"==typeof atob&&(global.atob=y);var d,b=function(e,r){try{return Promise.resolve(x(e,r)).then((function(r){return e.filter((function(e,t){return r[t]}))}))}catch(e){return Promise.reject(e)}};function x(e,r){return Promise.all(e.map(r))}function P(e){var r=new Set(e);return Array.from(r)}function w(e){return e<1024?e+" bytes":e<1048576?(e/1024).toFixed(3)+" KiB":e<1073741824?(e/1048576).toFixed(3)+" MiB":(e/1073741824).toFixed(3)+" GiB"}function j(e){if(null===e)return"null";if(void 0===e)return"undefined";switch(typeof e){case"number":return"number";case"string":return"string";case"boolean":return"boolean";case"object":return Object.prototype.toString.call(e).slice(8,-1)}throw Error("Cannot determine obj_type "+String(e))}function k(e){var r=0;return function e(t){if(null!=t)switch(typeof t){case"number":r+=8;break;case"string":r+=2*t.length;break;case"boolean":r+=4;break;case"object":var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n||"Array"===n)for(var o in t)t.hasOwnProperty(o)&&e(t[o]);else{if("ArrayBuffer"===n){r+=t.byteLength;break}r+=2*t.toString().length}}return r}(e)}(d=exports.FdType||(exports.FdType={})).File="f",d.Dir="d",d.Link="l",d.Unknown="u";var g=function(e,t){void 0===t&&(t="utf8");try{var n=String;return Promise.resolve(r.promises.readFile(e,t)).then(n)}catch(e){return Promise.reject(e)}},S=function(e,t){try{return Promise.resolve(r.promises.writeFile(e,t)).then((function(){}))}catch(e){return Promise.reject(e)}},O=g,_=S,N=function(e,r){return r instanceof Object&&!(r instanceof Array)?Object.keys(r).sort().reduce((function(e,t){return e[t]=r[t],e}),{}):r},F=function(e){return Promise.resolve(p((function(){return Promise.resolve(r.promises.access(e)).then((function(){return!0}))}),(function(){return!1})))},E=function(e){try{return Promise.resolve(p((function(){return Promise.resolve(r.promises.lstat(e)).then((function(e){return e.isDirectory()}))}),(function(e){throw console.log(e),e})))}catch(e){return Promise.reject(e)}},B=function(e){try{return Promise.resolve(p((function(){return Promise.resolve(r.promises.lstat(e)).then((function(e){return e.isFile()}))}),(function(e){throw console.log(e),e})))}catch(e){return Promise.reject(e)}},T=function(e,n){void 0===n&&(n=!0);try{return Promise.resolve(p((function(){return Promise.resolve(r.promises.readdir(e)).then((function(r){return n?r.map((function(r){return t.join(e,r)})):r}))}),(function(e){throw console.log(e),e})))}catch(e){return Promise.reject(e)}};function J(e){return A.apply(this,arguments)}function A(){return(A=u(regeneratorRuntime.mark((function e(r){var t,o,i,u,c,f,a,l,p,h,v,y,m,d,b,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(T(r));case 2:t=e.sent,o=!0,i=!1,e.prev=5,c=n(t);case 7:return e.next=9,s(c.next());case 9:return o=(f=e.sent).done,e.next=13,s(f.value);case 13:if(a=e.sent,o){e.next=59;break}return l=a,e.next=18,s(E(l));case 18:return p=e.sent,e.next=21,l;case 21:if(!p){e.next=56;break}h=!0,v=!1,e.prev=24,m=n(J(l));case 26:return e.next=28,s(m.next());case 28:return h=(d=e.sent).done,e.next=32,s(d.value);case 32:if(b=e.sent,h){e.next=40;break}return x=b,e.next=37,x;case 37:h=!0,e.next=26;break;case 40:e.next=46;break;case 42:e.prev=42,e.t0=e.catch(24),v=!0,y=e.t0;case 46:if(e.prev=46,e.prev=47,h||null==m.return){e.next=51;break}return e.next=51,s(m.return());case 51:if(e.prev=51,!v){e.next=54;break}throw y;case 54:return e.finish(51);case 55:return e.finish(46);case 56:o=!0,e.next=7;break;case 59:e.next=65;break;case 61:e.prev=61,e.t1=e.catch(5),i=!0,u=e.t1;case 65:if(e.prev=65,e.prev=66,o||null==c.return){e.next=70;break}return e.next=70,s(c.return());case 70:if(e.prev=70,!i){e.next=73;break}throw u;case 73:return e.finish(70);case 74:return e.finish(65);case 75:case"end":return e.stop()}}),e,null,[[5,61,65,75],[24,42,46,56],[47,,51,55],[66,,70,74]])})))).apply(this,arguments)}var I="function"==typeof ArrayBuffer,L=function(e){return Number.isInteger(Number(e))};exports.arange=function(e,r,t){if(void 0===r&&(r=void 0),void 0===t&&(t=1),void 0===r){var n=[e,0];r=n[0],e=n[1]}for(var o=[],i=e;i<r;i+=t)o.push(i);return o},exports.arrmax=function(e){return e.reduce((function(e,r){return e>r?e:r}))},exports.arrmin=function(e){return e.reduce((function(e,r){return e<r?e:r}))},exports.b64decode=y,exports.b64encode=m,exports.camel2snake=function(e){return e[0].toLowerCase()+e.slice(1,e.length).replace(/[A-Z]/g,(function(e){return"_"+e.toLowerCase()}))},exports.chunk=function(e,r){return e.reduce((function(e,t,n){return n%r==0?[].concat(e,[[t]]):[].concat(e.slice(0,-1),[[].concat(e.slice(-1)[0],[t])])}),[])},exports.cpfile=function(e,t){try{return Promise.resolve(p((function(){return Promise.resolve(r.promises.copyFile(e,t)).then((function(){}))}),(function(e){throw console.log(e),e})))}catch(e){return Promise.reject(e)}},exports.dumps=function(e,r){void 0===r&&(r={});var t=r.sort_keys,n=r.indent;return JSON.stringify(e,void 0!==t&&t&&"object"==typeof e?N:null,void 0===n?void 0:n)},exports.exists=F,exports.fdtype=function(e){try{return Promise.resolve(p((function(){return Promise.resolve(r.promises.lstat(e)).then((function(e){return e.isFile()?exports.FdType.File:e.isDirectory()?exports.FdType.Dir:e.isSymbolicLink()?exports.FdType.Link:exports.FdType.Unknown}))}),(function(e){throw console.log(e),e})))}catch(e){return Promise.reject(e)}},exports.filter_async=b,exports.filter_falsey_vals=function(e){return Object.keys(e).reduce((function(r,t){return e[t]&&(r[t]=e[t]),r}),{})},exports.filter_keys=function(e,r){return Object.keys(e).reduce((function(t,n){return r.includes(n)||(t[n]=e[n]),t}),{})},exports.filter_vals=function(e,r){return Object.keys(e).reduce((function(t,n){return r.includes(e[n])||(t[n]=e[n]),t}),{})},exports.fmt_nbytes=w,exports.get=function(e,r){void 0===r&&(r={method:"get"});try{return Promise.resolve(v(new Request(e,c({method:"get"},r))))}catch(e){return Promise.reject(e)}},exports.hasArrayBuffer=I,exports.haskey=function e(r,t){var n=t.split(".");return!!r&&(n.length>1?e(r[t.split(".")[0]],n.slice(1).join(".")):Object.hasOwnProperty.call(r,t))},exports.http=v,exports.isdir=E,exports.isempty=function(e){return[Object,Array].includes((e||{}).constructor)&&!Object.entries(e||{}).length},exports.isfile=B,exports.isfin=function(e){return Number.isFinite(Number(e))},exports.isfloat=function(e){return!L(e)},exports.isinf=function(e){return!Number.isFinite(Number(e))},exports.isint=L,exports.islink=function(e){try{return Promise.resolve(p((function(){return Promise.resolve(r.promises.lstat(e)).then((function(e){return e.isSymbolicLink()}))}),(function(e){throw console.log(e),e})))}catch(e){return Promise.reject(e)}},exports.isnan=function(e){return Number.isNaN(Number(e))},exports.items=function(e){return Object.entries(e)},exports.jsoncp=function(e){return JSON.parse(JSON.stringify(e))},exports.keep_keys=function(e,r){return Object.keys(e).reduce((function(t,n){return r.includes(n)&&(t[n]=e[n]),t}),{})},exports.keep_vals=function(e,r){return Object.keys(e).reduce((function(t,n){return r.includes(e[n])&&(t[n]=e[n]),t}),{})},exports.ljson=function(e){try{return Promise.resolve(g(e)).then(JSON.parse)}catch(e){return Promise.reject(e)}},exports.ls=T,exports.lsdirs=function(e,r){void 0===r&&(r=!0);try{return Promise.resolve(T(e,r)).then((function(e){return Promise.resolve(b(e,E))}))}catch(e){return Promise.reject(e)}},exports.lsfiles=function(e,r){void 0===r&&(r=!0);try{return Promise.resolve(T(e,r)).then((function(e){return Promise.resolve(b(e,B))}))}catch(e){return Promise.reject(e)}},exports.lstr=O,exports.lstring=g,exports.map_async=x,exports.mkdir=function(e,t){void 0===t&&(t=!1);try{return Promise.resolve(p((function(){return Promise.resolve(r.promises.mkdir(e,{recursive:!0})).then((function(){}))}),(function(r){if("EEXIST"!==r.code)throw r;if(!t)throw new Error("!!!mkdir error: "+e+" exists--add 'exist_ok'=true")})))}catch(e){return Promise.reject(e)}},exports.mv=function(e,t){try{return Promise.resolve(F(e)).then((function(n){if(!n)throw Error("!!!mv error: src ("+e+") DOES NOT exist");return Promise.resolve(F(t)).then((function(n){if(n)throw Error("!!!mv error: dest ("+t+") DOES exist");return Promise.resolve(r.promises.rename(e,t)).then((function(){}))}))}))}catch(e){return Promise.reject(e)}},exports.nbytes=k,exports.objectify=function(e,r){return e.reduce((function(e,t){var n;return Object.assign(e,((n={})[t[r]]=t,n))}),{})},exports.objinfo=function(e){var r=k(e);return{size:r,size_str:w(r),obj_type:j(e)}},exports.objkeys=function(e){return Object.keys(e)},exports.objtype=j,exports.pascal2camel=function(e){return e[0].toLowerCase()+e.slice(1,e.length)},exports.pathjoin=function(e,r){void 0===r&&(r="/");var t=r||"/";return(e=e.map((function(r,n){return n&&(r=r.replace(new RegExp("^"+t),"")),n!==e.length-1&&(r=r.replace(new RegExp(t+"$"),"")),r}))).join(t)},exports.post=function(e,r,t){try{return void 0===t&&(t={method:"post",body:JSON.stringify(r)}),Promise.resolve(v(new Request(e,c({method:"post",body:JSON.stringify(r)},t))))}catch(e){return Promise.reject(e)}},exports.put=function(e,r,t){try{return void 0===t&&(t={method:"put",body:JSON.stringify(r)}),Promise.resolve(v(new Request(e,c({method:"put",body:JSON.stringify(r)},t))))}catch(e){return Promise.reject(e)}},exports.pwd=function(){return process.cwd()},exports.sjson=function(e,r,t){void 0===t&&(t={});try{var n=t.sort_keys,o=t.indent;return Promise.resolve(S(e,JSON.stringify(r,void 0!==n&&n&&"object"==typeof r?N:null,void 0===o?void 0:o))).then((function(){}))}catch(e){return Promise.reject(e)}},exports.sleep=function(e){return new Promise((function(r){return setTimeout(r,e)}))},exports.snake2camel=function(e){return e.toLowerCase().replace(/([-_][a-z])/g,(function(e){return e.toUpperCase().replace("-","").replace("_","")}))},exports.sort_keys_replacer=N,exports.sstr=_,exports.sstring=S,exports.sum=function(e,r){return e+r},exports.unique=P,exports.usort=function(e){return P(e).sort()},exports.walk_gen=J,exports.walk_list=function(e){try{var r,t=[],o=!0,i=!1,u=h((function(){return p((function(){var r=n;return Promise.resolve(J(e)).then((function(e){var n,i,u=r(e),s=function(e,r,t){for(var n;;){var o=e();if(l(o)&&(o=o.v),!o)return i;if(o.then){n=0;break}var i=t();if(i&&i.then){if(!l(i)){n=1;break}i=i.s}if(r){var u=r();if(u&&u.then&&!l(u)){n=2;break}}}var s=new f,c=a.bind(null,s,2);return(0===n?o.then(h):1===n?i.then(p):u.then(v)).then(void 0,c),s;function p(n){i=n;do{if(r&&(u=r())&&u.then&&!l(u))return void u.then(v).then(void 0,c);if(!(o=e())||l(o)&&!o.v)return void a(s,1,i);if(o.then)return void o.then(h).then(void 0,c);l(i=t())&&(i=i.v)}while(!i||!i.then);i.then(p).then(void 0,c)}function h(e){e?(i=t())&&i.then?i.then(p).then(void 0,c):p(i):a(s,1,i)}function v(){(o=e())?o.then?o.then(h).then(void 0,c):h(o):a(s,1,i)}}((function(){return!!Promise.resolve(u.next()).then((function(e){return o=n.done,n=e,Promise.resolve(n.value).then((function(e){return i=e,!o}))}))}),(function(){return!!(o=!0)}),(function(){t.push(i)}));if(s&&s.then)return s.then((function(){}))}))}),(function(e){i=!0,r=e}))}),(function(e,t){function n(r){if(e)throw t;return t}var u=h((function(){var e=function(){if(!o&&null!=_iterator3.return)return Promise.resolve(_iterator3.return()).then((function(){}))}();if(e&&e.then)return e.then((function(){}))}),(function(e,t){if(i)throw r;if(e)throw t;return t}));return u&&u.then?u.then(n):n()}));return Promise.resolve(u&&u.then?u.then((function(e){return t})):t)}catch(e){return Promise.reject(e)}},exports.zip=function(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return e.map((function(e,r){return t.reduce((function(e,t){return[].concat(e,[t[r]])}),[e])}))};
//# sourceMappingURL=jsse.cjs.production.min.js.map
