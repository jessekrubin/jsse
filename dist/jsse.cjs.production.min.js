"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,r=require("fs"),t=(e=require("path"))&&"object"==typeof e&&"default"in e?e.default:e;function n(e){var r;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(r=e[Symbol.asyncIterator]))return r.call(e);if(Symbol.iterator&&null!=(r=e[Symbol.iterator]))return r.call(e)}throw new TypeError("Object is not async iterable")}function o(e){this.wrapped=e}function i(e){var r,t;function n(r,t){try{var u=e[r](t),s=u.value,c=s instanceof o;Promise.resolve(c?s.wrapped:s).then((function(e){c?n("return"===r?"return":"next",e):i(u.done?"return":"normal",e)}),(function(e){n("throw",e)}))}catch(e){i("throw",e)}}function i(e,o){switch(e){case"return":r.resolve({value:o,done:!0});break;case"throw":r.reject(o);break;default:r.resolve({value:o,done:!1})}(r=r.next)?n(r.key,r.arg):t=null}this._invoke=function(e,o){return new Promise((function(i,u){var s={key:e,arg:o,resolve:i,reject:u,next:null};t?t=t.next=s:(r=t=s,n(e,o))}))},"function"!=typeof e.return&&(this.return=void 0)}function u(e){return function(){return new i(e.apply(this,arguments))}}function s(e){return new o(e)}function c(){return(c=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}"function"==typeof Symbol&&Symbol.asyncIterator&&(i.prototype[Symbol.asyncIterator]=function(){return this}),i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)};const f=function(){function e(){}return e.prototype.then=function(r,t){const n=new e,o=this.s;if(o){const e=1&o?r:t;if(e){try{a(n,1,e(this.v))}catch(e){a(n,2,e)}return n}return this}return this.o=function(e){try{const o=e.v;1&e.s?a(n,1,r?r(o):o):t?a(n,1,t(o)):a(n,2,o)}catch(e){a(n,2,e)}},n},e}();function a(e,r,t){if(!e.s){if(t instanceof f){if(!t.s)return void(t.o=a.bind(null,e,r));1&r&&(r=t.s),t=t.v}if(t&&t.then)return void t.then(a.bind(null,e,r),a.bind(null,e,2));e.s=r,e.v=t;const n=e.o;n&&n(e)}}function l(e){return e instanceof f&&1&e.s}function h(e,r){try{var t=e()}catch(e){return r(e)}return t&&t.then?t.then(void 0,r):t}function v(e,r){try{var t=e()}catch(e){return r(!0,e)}return t&&t.then?t.then(r.bind(null,!1),r.bind(null,!0)):r(!1,t)}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var p=function(e){try{return Promise.resolve(fetch(e)).then((function(e){function r(){if(!e.ok)throw new Error(e.statusText);return e}var t=h((function(){return Promise.resolve(e.json()).then((function(r){e.bodyJSON=r}))}),(function(){}));return t&&t.then?t.then(r):r()}))}catch(e){return Promise.reject(e)}};function m(e){return new Buffer(e,"base64").toString("binary")}function y(e){return new Buffer(e,"binary").toString("base64")}global.Buffer=global.Buffer||require("buffer").Buffer,"undefined"==typeof btoa&&(global.btoa=y),"undefined"==typeof atob&&(global.atob=m);var d=function(e,t){void 0===t&&(t="utf8");try{var n=String;return Promise.resolve(r.promises.readFile(e,t)).then(n)}catch(e){return Promise.reject(e)}},b=function(e,t){try{return Promise.resolve(r.promises.writeFile(e,t)).then((function(){}))}catch(e){return Promise.reject(e)}},x=d,P=b,k=function(e){return Promise.resolve(h((function(){return Promise.resolve(r.promises.access(e)).then((function(){return!0}))}),(function(){return!1})))},w=function(e){try{return Promise.resolve(h((function(){return Promise.resolve(r.promises.lstat(e)).then((function(e){return e.isDirectory()}))}),(function(e){throw console.log(e),e})))}catch(e){return Promise.reject(e)}},j=function(e,n){void 0===n&&(n=!0);try{return Promise.resolve(h((function(){return Promise.resolve(r.promises.readdir(e)).then((function(r){return n?r.map((function(r){return t.join(e,r)})):r}))}),(function(e){throw console.log(e),e})))}catch(e){return Promise.reject(e)}};function g(e){return S.apply(this,arguments)}function S(){return(S=u(regeneratorRuntime.mark((function e(r){var t,o,i,u,c,f,a,l,h,v,p,m,y,d,b,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(j(r));case 2:t=e.sent,o=!0,i=!1,e.prev=5,c=n(t);case 7:return e.next=9,s(c.next());case 9:return o=(f=e.sent).done,e.next=13,s(f.value);case 13:if(a=e.sent,o){e.next=59;break}return l=a,e.next=18,s(w(l));case 18:return h=e.sent,e.next=21,l;case 21:if(!h){e.next=56;break}v=!0,p=!1,e.prev=24,y=n(g(l));case 26:return e.next=28,s(y.next());case 28:return v=(d=e.sent).done,e.next=32,s(d.value);case 32:if(b=e.sent,v){e.next=40;break}return x=b,e.next=37,x;case 37:v=!0,e.next=26;break;case 40:e.next=46;break;case 42:e.prev=42,e.t0=e.catch(24),p=!0,m=e.t0;case 46:if(e.prev=46,e.prev=47,v||null==y.return){e.next=51;break}return e.next=51,s(y.return());case 51:if(e.prev=51,!p){e.next=54;break}throw m;case 54:return e.finish(51);case 55:return e.finish(46);case 56:o=!0,e.next=7;break;case 59:e.next=65;break;case 61:e.prev=61,e.t1=e.catch(5),i=!0,u=e.t1;case 65:if(e.prev=65,e.prev=66,o||null==c.return){e.next=70;break}return e.next=70,s(c.return());case 70:if(e.prev=70,!i){e.next=73;break}throw u;case 73:return e.finish(70);case 74:return e.finish(65);case 75:case"end":return e.stop()}}),e,null,[[5,61,65,75],[24,42,46,56],[47,,51,55],[66,,70,74]])})))).apply(this,arguments)}exports.arange=function(e,r,t){if(void 0===r&&(r=void 0),void 0===t&&(t=1),void 0===r){var n=[e,0];r=n[0],e=n[1]}for(var o=[],i=e;i<r;i+=t)o.push(i);return o},exports.arrmax=function(e){return e.reduce((function(e,r){return e>r?e:r}))},exports.arrmin=function(e){return e.reduce((function(e,r){return e<r?e:r}))},exports.b64decode=m,exports.b64encode=y,exports.chunk=function(e,r){return Array.from({length:Math.ceil(e.length/r)},(function(t,n){return e.slice(n*r,n*r+r)}))},exports.cpfile=function(e,t){try{return Promise.resolve(h((function(){return Promise.resolve(r.promises.copyFile(e,t)).then((function(){}))}),(function(e){throw console.log(e),e})))}catch(e){return Promise.reject(e)}},exports.exists=k,exports.fdtype=function(e){try{return Promise.resolve(h((function(){return Promise.resolve(r.promises.lstat(e)).then((function(e){return e.isFile()?"f":e.isDirectory()?"d":e.isSymbolicLink()?"l":"?"}))}),(function(e){throw console.log(e),e})))}catch(e){return Promise.reject(e)}},exports.filter_falsey_vals=function(e){return Object.keys(e).reduce((function(r,t){return e[t]&&(r[t]=e[t]),r}),{})},exports.filter_keys=function(e,r){return Object.keys(e).reduce((function(t,n){return r.includes(n)||(t[n]=e[n]),t}),{})},exports.filter_vals=function(e,r){return Object.keys(e).reduce((function(t,n){return r.includes(e[n])||(t[n]=e[n]),t}),{})},exports.get=function(e,r){void 0===r&&(r={method:"get"});try{return Promise.resolve(p(new Request(e,c({method:"get"},r))))}catch(e){return Promise.reject(e)}},exports.http=p,exports.isfile=function(e){try{return Promise.resolve(h((function(){return Promise.resolve(r.promises.lstat(e)).then((function(e){return e.isFile()}))}),(function(e){throw console.log(e),e})))}catch(e){return Promise.reject(e)}},exports.islink=function(e){try{return Promise.resolve(h((function(){return Promise.resolve(r.promises.lstat(e)).then((function(e){return e.isSymbolicLink()}))}),(function(e){throw console.log(e),e})))}catch(e){return Promise.reject(e)}},exports.keep_keys=function(e,r){return Object.keys(e).reduce((function(t,n){return r.includes(n)&&(t[n]=e[n]),t}),{})},exports.keep_vals=function(e,r){return Object.keys(e).reduce((function(t,n){return r.includes(e[n])&&(t[n]=e[n]),t}),{})},exports.ljson=function(e){try{return Promise.resolve(d(e)).then(JSON.parse)}catch(e){return Promise.reject(e)}},exports.ls=j,exports.lstr=x,exports.lstring=d,exports.mkdir=function(e,t){void 0===t&&(t=!1);try{return Promise.resolve(h((function(){return Promise.resolve(r.promises.mkdir(e,{recursive:!0})).then((function(){}))}),(function(r){if("EEXIST"!==r.code)throw r;if(!t)throw new Error("!!!mkdir error: "+e+" exists--add 'exist_ok'=true")})))}catch(e){return Promise.reject(e)}},exports.mv=function(e,t){try{return Promise.resolve(k(e)).then((function(n){if(!n)throw Error("!!!mv error: src ("+e+") DOES NOT exist");return Promise.resolve(k(t)).then((function(n){if(n)throw Error("!!!mv error: dest ("+t+") DOES exist");return Promise.resolve(r.promises.rename(e,t)).then((function(){}))}))}))}catch(e){return Promise.reject(e)}},exports.objectify=function(e,r){return e.reduce((function(e,t){var n;return Object.assign(e,((n={})[t[r]]=t,n))}),{})},exports.objkeys=function(e){return Object.keys(e)},exports.post=function(e,r,t){try{return void 0===t&&(t={method:"post",body:JSON.stringify(r)}),Promise.resolve(p(new Request(e,c({method:"post",body:JSON.stringify(r)},t))))}catch(e){return Promise.reject(e)}},exports.put=function(e,r,t){try{return void 0===t&&(t={method:"put",body:JSON.stringify(r)}),Promise.resolve(p(new Request(e,c({method:"put",body:JSON.stringify(r)},t))))}catch(e){return Promise.reject(e)}},exports.sjson=function(e,r,t,n){void 0===t&&(t=!1),void 0===n&&(n=void 0);try{var o=t&&"object"==typeof r?Object.keys(r).sort():null;return Promise.resolve(b(e,JSON.stringify(r,o,n))).then((function(){}))}catch(e){return Promise.reject(e)}},exports.sleep=function(e){return new Promise((function(r){return setTimeout(r,e)}))},exports.sort_keys_replacer=function(e,r){return r instanceof Object&&!(r instanceof Array)?Object.keys(r).sort().reduce((function(e,t){return e[t]=r[t],e}),{}):r},exports.sstr=P,exports.sstring=b,exports.sum=function(e,r){return e+r},exports.walk_gen=g,exports.walk_list=function(e){try{var r,t=[],o=!0,i=!1,u=v((function(){return h((function(){var r=n;return Promise.resolve(g(e)).then((function(e){var n,i,u=r(e),s=function(e,r,t){for(var n;;){var o=e();if(l(o)&&(o=o.v),!o)return i;if(o.then){n=0;break}var i=t();if(i&&i.then){if(!l(i)){n=1;break}i=i.s}if(r){var u=r();if(u&&u.then&&!l(u)){n=2;break}}}var s=new f,c=a.bind(null,s,2);return(0===n?o.then(v):1===n?i.then(h):u.then(p)).then(void 0,c),s;function h(n){i=n;do{if(r&&(u=r())&&u.then&&!l(u))return void u.then(p).then(void 0,c);if(!(o=e())||l(o)&&!o.v)return void a(s,1,i);if(o.then)return void o.then(v).then(void 0,c);l(i=t())&&(i=i.v)}while(!i||!i.then);i.then(h).then(void 0,c)}function v(e){e?(i=t())&&i.then?i.then(h).then(void 0,c):h(i):a(s,1,i)}function p(){(o=e())?o.then?o.then(v).then(void 0,c):v(o):a(s,1,i)}}((function(){return!!Promise.resolve(u.next()).then((function(e){return o=n.done,n=e,Promise.resolve(n.value).then((function(e){return i=e,!o}))}))}),(function(){return!!(o=!0)}),(function(){t.push(i)}));if(s&&s.then)return s.then((function(){}))}))}),(function(e){i=!0,r=e}))}),(function(e,t){function n(r){if(e)throw t;return t}var u=v((function(){var e=function(){if(!o&&null!=_iterator3.return)return Promise.resolve(_iterator3.return()).then((function(){}))}();if(e&&e.then)return e.then((function(){}))}),(function(e,t){if(i)throw r;if(e)throw t;return t}));return u&&u.then?u.then(n):n()}));return Promise.resolve(u&&u.then?u.then((function(e){return t})):t)}catch(e){return Promise.reject(e)}},exports.zip=function(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return e.map((function(e,r){return t.reduce((function(e,t){return[].concat(e,[t[r]])}),[e])}))};
//# sourceMappingURL=jsse.cjs.production.min.js.map
